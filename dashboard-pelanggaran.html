<!DOCTYPE html>
<html lang="id">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Pelanggaran - SATRIA SMAGER</title>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<link
			href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700&display=swap"
			rel="stylesheet" />
        <link rel="stylesheet" href="styles/dashboard/manajemen.css">
        <link rel="stylesheet" href="styles/dashboard/daftar-card.css">
        <link rel="stylesheet" href="styles/dashboard/statis-card.css">
        <link rel="stylesheet" href="styles/dashboard/global.css">
        <style>
            .wave-section {
                width: 100%;
                position: absolute;
                top: 100%;
                z-index: -1;
            }
        </style>
	</head>
	<body>
        
		<!-- background squares -->
		<ul class="bg-squares" aria-hidden="true">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
        

        <div class="dashboard
            <main class="main" role="main">
                <div class="title">Daftar Pelanggaran</div>
                <section class="card" aria-labelledby="form-title">
                    <div class="violation-table-container">
                    
                        <div class="category-tabs">
                            <button class="tab-btn active" onclick="filterTable('all')">Semua</button>
                            <button class="tab-btn" onclick="filterTable('kedisiplinan')">Kerajinan (J)</button>
                            <button class="tab-btn" onclick="filterTable('kebersihan')">Kerapian (P)</button>
                            <button class="tab-btn" onclick="filterTable('ketertiban')">Ketertiban (K)</button>
                            <button class="tab-btn" onclick="filterTable('berat')">Pelanggaran Berat</button>
                        </div>
                    
                        
                        <div class="table-responsive">
                            <table class="modern-table" id="violationTable">
                                <thead>
                                    <tr>
                                        <th width="80px">Kode</th>
                                        <th>Jenis Pelanggaran</th>
                                        <th width="150px">Kategori</th>
                                        <th width="80px" class="text-center">Poin</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </section>

        <script src="./program/database/pelanggaran.js"></script>

        <script src="./program/daftar-pelanggaran.js"></script>

        <script>
            function filterTable(category) {
                const buttons = document.querySelectorAll('.tab-btn');
                buttons.forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');

                const rows = document.querySelectorAll('.row-item');
                
                rows.forEach(row => {
                    if (category === 'all') {
                        row.style.display = ''; 
                    } else {
                        if (row.getAttribute('data-category') === category) {
                            row.style.display = ''; 
                        } else {
                            row.style.display = 'none'; 
                        }
                    }
                });
            }
        </script>

        <script>
            const btn = document.getElementById("collapse-keterangan");
            const box = document.getElementById("panel-keterangan");

            const bg = document.querySelector(".form-row-keterangan");

            btn.addEventListener("click", () => {
                if (box.style.display === "none") {
                    box.style.display = "block";
                    btn.textContent = "-";
                    bg.style.height = "120px";
                } else {
                    box.style.display = "none";
                    btn.textContent = "+";
                    bg.style.height = "50px";
                }
            });

            const menu = document.querySelector('.menu');
            const sidebar = document.querySelector(".sidebar");
            const main = document.querySelector(".main");

            menu.addEventListener('click', () => {
                sidebar.classList.toggle("active");
                main.classList.toggle("shift");
                menu.classList.toggle('change');
            });

            function filterTable(category) {
                const buttons = document.querySelectorAll('.tab-btn');
                buttons.forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');

                // 2. Filter baris tabel
                const rows = document.querySelectorAll('.row-item');
                
                rows.forEach(row => {
                    if (category === 'all') {
                    row.style.display = ''; // Tampilkan semua
                    } else {
                    if (row.getAttribute('data-category') === category) {
                        row.style.display = ''; // Tampilkan yang cocok
                    } else {
                        row.style.display = 'none'; // Sembunyikan yang tidak cocok
                    }
                    }
                });
            }
        </script>
	</body>
</html>

